<!DOCTYPE html>
<html lang="en">
	
	<head>
		<meta charset="UTF-8">
		<title>Weather Service</title>
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script>
	
	<style>
		body {background-color: #4d4d4d;}
		.card {margin-top: 30px; border-radius: 0px; border: solid 1px #ddd;}
	</style>
	
	</head>
	
	<body>
	
		<div class="container">
			<div class="card">
				<div class="card-block">
					<h2 class="card-title">List of Weather Stations</h2>
					<table class="table table-striped displayWeather" >
						<tr>
							<th>Station#</th>
							<th>Temperature(F)</th>
							<th>Chance of rain(%)</th>
							<th>Status</th>
							<th>Identity</th>
							<th>Count</th>
						</th>
					</table>
					<p class="status"></p>
				</div>
			</div>
		</div>
	
	
	<script type="text/javascript">
		$(document).ready(function() {
			//GET JSON DATA FROM /WEATHER
		    $.get("http://35.192.230.250:8000/weather", function(data) {
		    	//CHECK TO SEE IF WEATHERCOLLECTOR SERVICE IS AVAILABLE
				if (data != null) {
				//ITERATE THROUGH DATA AND DISPLAY STATUS MESSAGE
		        $.each(data, function(i, weather) {
		            $(".displayWeather").append(
		                "<tr><td>" + weather.stationId + "</td>" +
		                "<td>" + weather.temperature + "</td>" +
		                "<td>" + weather.rain + "</td>" +
		                "<td>" + weather.status + "</td>" +
		                "<td>" + weather.identity + "</td>" +
		                "<td>" + weather.count + "</td></tr>");
		        })
		        $(".status").append("The weather collector service is running.")
		        } else {
		        $(".status").append("The weather collector service is unavailable.")
		        };
		    });
		});
	</script>
		
	</body>
</html>